Ext.define("Shopware.apps.ViisonCommonMailComposer.view.Window",{ extend:"Enlight.app.Window",alias:"widget.viison_common_mail_composer-window",mixins:["Shopware.apps.ViisonCommonApp.Mixin"],stateId:"shopware-viison_common_mail_composer-window",width:650,height:500,modal:true,minimizable:false,maximizable:false,draggable:false,footerButton:false,layout:{ align:"stretch",type:"hbox"},viisonSnippetNamespace:"backend/viison_common_mail_composer/main",hideAttachmentField:false,initComponent:function(){ this.title=this.getViisonSnippet("window/title");this.items=[this.createMailPanel()];this.loadMask=new Ext.LoadMask(this,{ msg:this.getViisonSnippet("window/load_mask_message")});this.loadMask.hide();this.callParent(arguments)},createMailPanel:function(){ this.dataPanel=this.createPanel();this.dataPanel.addListener("sendMail",function(){ var i=this.dataPanel.getForm();if(!i.isValid()){ return}this.formData=i.getValues();this.sendMail()},this);this.dataPanel.addListener("cancel",function(){ this.close()},this);return this.dataPanel},createPanel:function(){ return Ext.create("Shopware.apps.ViisonCommonMailComposer.view.Main",{ mail:this.mail,cls:this.cls,hideAttachmentField:this.hideAttachmentField})},sendMail:function(){ }});
