Ext.define("Shopware.apps.ViisonCommonGridLabelPrinting.view.TemplateChooser",{ mixins:["Shopware.apps.ViisonCommonApp.Mixin"],viisonSnippetNamespace:"backend/viison_common_grid_label_printing/main",createTemplateComponents:function(){ this.templateStore=Ext.create(this.templateClass,{ });this.templateSelection=Ext.create("Ext.form.field.ComboBox",{ fieldLabel:this.getViisonSnippet("template_chooser/fields/template/label"),name:"template",store:this.templateStore,queryMode:"local",displayField:"title",valueField:"name",width:340,editable:false,allowBlank:false,listeners:{ scope:this,select:function(e,t){ this.resetStartPositionFields(t[0])}}});this.startYField=Ext.create("Ext.form.field.Number",{ fieldLabel:this.getViisonSnippet("template_chooser/fields/start_y/label"),helpText:this.getViisonSnippet("template_chooser/fields/start_y/help"),name:"startY",value:1,minValue:1,maxValue:16,allowDecimals:false,anchor:"100%"});this.startXField=Ext.create("Ext.form.field.Number",{ fieldLabel:this.getViisonSnippet("template_chooser/fields/start_x/label"),helpText:this.getViisonSnippet("template_chooser/fields/start_x/help"),name:"startX",value:1,minValue:1,maxValue:5,allowDecimals:false,anchor:"100%"});this.templateStore.load({ scope:this,callback:function(e){ for(var t=0;t<e.length;t+=1){ if(e[t].get("default")){ this.templateSelection.setValue(e[t].get("name"));this.resetStartPositionFields(e[t]);break}}}})},resetStartPositionFields:function(e){ this.startYField.setMaxValue(e.get("numRows"));this.startXField.setMaxValue(e.get("numCols"));if(this.startYField.getValue()>e.get("numRows")||this.startXField.getValue()>e.get("numCols")){ this.startXField.setValue(1);this.startYField.setValue(1)}}});
