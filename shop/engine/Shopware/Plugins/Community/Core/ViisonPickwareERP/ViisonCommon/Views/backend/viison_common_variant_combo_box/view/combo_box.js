Ext.define("Shopware.apps.ViisonCommonVariantComboBox.view.ComboBox",{ extend:"Shopware.apps.ViisonCommonComboBox.view.ComboBox",alias:"widget.viison_common_variant_combo_box-combo_box",mixins:["Shopware.apps.ViisonCommonApp.Mixin"],viisonSnippetNamespace:"backend/viison_common_variant_combo_box/main",changeEventName:"variantChanged",constructor:function(){ this.fieldLabel=this.getViisonSnippet("field_label");this.emptyText=this.getViisonSnippet("empty_text");this.callParent(arguments)},initComponent:function(){ var i='{number}'+'<tpl if="additionalText &amp;&amp; (additionalText.length &gt; 0)">'+' - {additionalText}'+"<tpl else>"+'{getConfiguratorOptions:this.assembleConfiguratorOptions}'+"</tpl>";var t={ assembleConfiguratorOptions:function(i){ if(!Ext.isDefined(i)||i.length===0){ return""}var t=" - ";Ext.Array.forEach(i,function(i){ t+=i.name+" "});return t.substring(0,t.length-1)}};this.displayTpl=Ext.create("Ext.XTemplate",'<tpl for=".">',i,"</tpl>",t);this.listConfig={ itemTpl:Ext.create("Ext.XTemplate",i,t)};this.store=Ext.create("Shopware.apps.Article.store.Variant",{ pageSize:2e3});this.callParent(arguments)},getSelectedVariant:function(){ return this.getSelectedRecord()},setArticle:function(i){ this.article=i;var t=this.getStore();if(!this.article||!this.article.get("id")){ t.removeAll()}else if(this.article.get("isConfigurator")){ t.getProxy().extraParams.articleId=this.article.get("id");t.load()}else{ t.loadData([this.article.getMainDetail().first()],false)}}});
