Ext.define("Shopware.apps.ViisonCommonAnalytics.view.main.ToolbarWithConfigurableComponents",{ override:"Shopware.apps.Analytics.view.main.Toolbar",initComponent:function(){ this.callParent(arguments);this.viisonCommonAnalyticsComponentsToolbar=Object.create(null,{ inViisonMode:{ value:false,writable:true},activeComponents:{ value:Object.create(null),writable:true}})},viisonCommonAnalyticsSetToolbarComponents:function(n,o){ if(!this.viisonCommonAnalyticsComponentsToolbar.inViisonMode){ this.viisonCommonAnalyticsComponentsToolbar.inViisonMode=true;this.viisonCommonAnalyticsComponentsToolbar.componentsBackup=Ext.clone(this.items.items)}Ext.each(Object.keys(this.viisonCommonAnalyticsComponentsToolbar.activeComponents),function(o){ var t=this.viisonCommonAnalyticsComponentsToolbar.activeComponents[o];if(!Object.prototype.hasOwnProperty.call(n,o)){ this.viisonCommonAnalyticsFindRenderedComponent(t).hide();delete this.viisonCommonAnalyticsComponentsToolbar.activeComponents[o];return}this.viisonCommonAnalyticsFindRenderedComponent(t).show();this.viisonCommonAnalyticsComponentsToolbar.activeComponents[o]=n[o]},this);Ext.each(Object.keys(n),function(t){ var i=n[t];if(!Object.prototype.hasOwnProperty.call(this.viisonCommonAnalyticsComponentsToolbar.activeComponents,t)){ if(i.componentConfig.isDefault){ this.viisonCommonAnalyticsFindRenderedComponent(i).show();return}var e="to_date";this.viisonCommonAnalyticsAddToolbarItem(e,[i.componentConfig],o);this.viisonCommonAnalyticsComponentsToolbar.activeComponents[t]=Ext.clone(i)}},this)},viisonCommonAnalyticsFindRenderedComponent:function(n){ if(!n.componentConfig.name){ throw new Error("No name set on component definition.")}var o=this.items.findBy(function(o){ return o.name===n.componentConfig.name});if(o===null){ throw new Error("Could not find component with name "+n.componentConfig.name+".")}return o},viisonCommonAnalyticsAddToolbarItem:function(n,o,t){ var i=[];this.items.each(function(n){ i.push(n)});for(var e=0;e<i.length;e+=1){ if(i[e].name===n){ var s=i.slice(0,e+1);var m=i.slice(e+1,i.length);i=Array.prototype.concat(s,o,m);this.viisonCommonAnalyticsSetAndRenderItems(i,t);return}}i=i.concat(o);this.viisonCommonAnalyticsSetAndRenderItems(i,t)},viisonCommonAnalyticsSetAndRenderItems:function(n,o){ Ext.apply(this,{ items:n});this.getLayout();this.initItems();o()},viisonCommonAnalyticsRestoreToolbarComponents:function(){ var n=Ext.clone(this.viisonCommonAnalyticsComponentsToolbar.componentsBackup);this.items.each(function(o){ if(o.name===undefined){ return}for(var t=0;t<n.length;t+=1){ if(n[t].name===o.name){ return}}o.hide()})}});
