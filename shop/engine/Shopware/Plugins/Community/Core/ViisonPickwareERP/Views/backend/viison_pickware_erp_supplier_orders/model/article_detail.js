Ext.define("Shopware.apps.ViisonPickwareERPSupplierOrders.model.ArticleDetail",{ extend:"Shopware.apps.ViisonPickwareERPSupplierCommon.model.ArticleDetail",fields:[{ name:"supplierId",type:"int",useNull:true},{ name:"orderedQuantity",type:"int"},{ name:"deliveredQuantity",type:"int"},{ name:"price",type:"float"},{ name:"status",type:"int"},{ name:"supplierArticleNumber",type:"string"}],getDefaultSupplierId:function(){ return this.raw.suppliers.length>0?this.raw.suppliers[0].supplierId:null},getAssignedSupplierIds:function(){ var e=[];Ext.each(this.raw.suppliers,function(i){ e.push(i.supplierId)});return e},isSupplierIdAssigned:function(e){ return this.getAssignedSupplierIds().indexOf(e)>-1},getSupplierDataForSupplierId:function(e){ var i=null;Ext.each(this.raw.suppliers,function(t){ if(t.supplierId===e){ i=t;return false}return undefined});return i},applyDefaultSupplier:function(){ var e=this.getDefaultSupplierId();if(e){ this.applySupplierWithId(e)}},applySupplierWithId:function(e){ this.set("supplierId",e);var i=this.getSupplierDataForSupplierId(e);if(i){ this.set("orderedQuantity",Math.max(1,i.orderAmount,this.getMissingStock()));this.set("price",i.purchasePrice);this.set("supplierArticleNumber",i.supplierArticleNumber)}}});
