// {namespace name=backend/viison_pickware_erp_bin_location_editor/main}
Ext.define("Shopware.apps.ViisonPickwareERPBinLocationEditor.view.main.BinLocationField",{ extend:"Ext.form.field.Text",alias:"widget.viison_pickware_erp_bin_location_editor-main-bin_location_field",fieldLabel:'{s name=main/bin_location_field/label}{/s}',readOnly:true,initComponent:function(){ if(Ext.isObject(this.value)){ this.selectedBinLocation=this.value;this.value=this.value.code}this.on("afterrender",function(){ this.addEditIcon();this.addClearIcon()});this.callParent(arguments)},setValue:function(i){ if(Ext.isObject(i)){ this.selectedBinLocation=i;i=i.code}else if(!i){ this.selectedBinLocation=null}if(this.clearIcon){ this.clearIcon[this.selectedBinLocation?"show":"hide"]()}this.callParent([i])},getSubmitData:function(){ var i={ };i[this.name]=this.selectedBinLocation;return i},getModelData:function(){ return this.getSubmitData()},addEditIcon:function(){ try{ if(this.editIcon){ this.editIcon.removeListener("click");this.editIcon.remove()}}catch(i){ }this.editIcon=this.addIcon("sprite-pencil",'{s name=main/bin_location_field/button/edit/tooltip}{/s}',function(){ this.fireEvent("editBinLocation",this)})},addClearIcon:function(){ try{ if(this.clearIcon){ this.clearIcon.removeListener("click");this.clearIcon.remove()}}catch(i){ }this.clearIcon=this.addIcon("sprite-minus-circle-frame",'{s name=main/bin_location_field/button/clear/tooltip}{/s}',function(){ this.setValue(null)},20);if(!this.selectedBinLocation){ this.clearIcon.hide()}},addIcon:function(i,e,t,n){ var c=new Ext.Element(document.createElement("span"));c.set({ cls:i,style:"position: absolute; top: 6px; right: "+((n||0)+6)+"px; width: 16px; height: 16px; z-index: 1; display: block; cursor: pointer;","data-qtip":e});if(this.getEl()){ this.getEl().setStyle("position","relative")}c.addListener("click",t,this);c.insertAfter(this.inputEl);return c}});
