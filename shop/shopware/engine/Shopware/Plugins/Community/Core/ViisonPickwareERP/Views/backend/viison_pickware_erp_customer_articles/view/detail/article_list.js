// {namespace name=backend/viison_pickware_erp_customer_articles/main}
Ext.define("Shopware.apps.ViisonPickwareERPCustomerArticles.view.detail.ArticleList",{ extend:"Ext.grid.Panel",alias:"widget.viison_pickware_erp_customer_articles-detail-article_list",border:false,autoScroll:true,viewConfig:{ enableTextSelection:true},initComponent:function(){ this.columns=this.createColumns();this.dockedItems=[{ xtype:"toolbar",dock:"top",ui:"shopware-ui",padding:7,items:this.createTopToolbarItems()},{ xtype:"viison_common_pagination_toolbar-toolbar",store:this.store}];this.callParent(arguments)},createColumns:function(){ return[{ dataIndex:"orderNumber",header:'{s name=model/article/order_number}{/s}',flex:1},{ xtype:"datecolumn",dataIndex:"orderTime",header:'{s name=model/article/order_time}{/s}',format:"d.m.Y H:i:s",flex:2},{ dataIndex:"articleNumber",header:'{s name=model/article/article_number}{/s}',flex:2},{ dataIndex:"articleName",header:'{s name=model/article/article_name}{/s}',flex:3},{ dataIndex:"quantity",header:'{s name=model/article/quantity}{/s}',align:"right",flex:1},{ dataIndex:"canceledQuantity",header:'{s name=model/article/canceled_quantity}{/s}',align:"right",flex:1},{ dataIndex:"price",header:'{s name=model/article/price}{/s}',renderer:ViisonCurrencyFormatter.renderer,align:"right",flex:1},{ dataIndex:"total",header:'{s name=model/article/total}{/s}',renderer:ViisonCurrencyFormatter.renderer,align:"right",flex:1},{ xtype:"numbercolumn",dataIndex:"taxRate",header:'{s name=model/article/tax_rate}{/s}',align:"right",format:"00%/i",flex:1},{ xtype:"actioncolumn",width:55,items:[{ iconCls:"sprite-pencil",tooltip:'{s name=action_column/show_article/tooltip}{/s}',scope:this,getClass:function(i,e,I){ if(!I.get("articleId")){ return"x-hide-visibility"}return undefined},handler:function(i,e){ this.fireEvent("showArticle",i.getStore().getAt(e))}},{ iconCls:"sprite-inbox",tooltip:'{s name=action_column/show_order/tooltip}{/s}',scope:this,handler:function(i,e){ this.fireEvent("showOrder",i.getStore().getAt(e))}}]}]},createTopToolbarItems:function(){ return["->",{ xtype:"textfield",name:"search",cls:"searchfield",emptyText:'{s name=toolbar/search_field/placeholder}{/s}',width:200,enableKeyEvents:true,listeners:{ buffer:500,scope:this,change:function(i){ this.fireEvent("searchFieldChanged",this,i.value)}}}]}});
