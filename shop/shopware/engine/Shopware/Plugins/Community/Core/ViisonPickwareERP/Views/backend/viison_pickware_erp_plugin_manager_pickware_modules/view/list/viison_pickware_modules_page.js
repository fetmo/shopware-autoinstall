// {namespace name=backend/viison_pickware_erp_plugin_manager_pickware_modules/main}
Ext.define("Shopware.apps.ViisonPickwareERPPluginManagerPickwareModules.view.list.ViisonPickwareModulesPage",{ extend:"Shopware.apps.PluginManager.view.list.PremiumPluginsPage",alias:"widget.viison_pickware_erp_plugin_manager_pickware_modules-viison_pickware_modules_page",pickwareListings:{ },pickwareListingHeadlines:{ },pickwareListingStores:{ },createStoreListing:function(){ this.content=this.createContent();Ext.each(Object.keys(this.pickwareListingStores),function(i){ this.pickwareListingStores[i].load()},this);return this.content},createContent:function(){ var i="other";this.createPickwareCategoryStoreListingHeadline(i,'{s name=listings/other/title}{/s}');this.pickwareListingHeadlines[i].hide();this.createPickwareCategoryStoreListing(i);this.pickwareListings[i].hide();this.pickwareListingStores[i].on("load",function(e,t){ var a=t.length>0?"show":"hide";this.pickwareListingHeadlines[i][a]();this.pickwareListings[i][a]()},this);return Ext.create("Ext.container.Container",{ items:[Ext.create("Ext.container.Container",{ html:'{s name=listings/pickware_mobile/title}{/s}',cls:"headline",padding:"30 30 0 30"}),this.createHTMLContainer('{url controller=ViisonPickwareERPPluginManagerPickwareModules action=getPickwareMobileDescriptionContent}',250),Ext.create("Ext.container.Container",{ html:'{s name=listings/pickware_pos/title}{/s}',cls:"headline",padding:"30 30 0 30"}),this.createHTMLContainer('{url controller=ViisonPickwareERPPluginManagerPickwareModules action=getPickwarePOSDescriptionContent}',315),this.createPickwareCategoryStoreListingHeadline("shippingProviders",'{s name=listings/shipping_providers/title}{/s}'),this.createPickwareCategoryStoreListing("shippingProviders"),this.createPickwareCategoryStoreListingHeadline("paymentProviders",'{s name=listings/payment_providers/title}{/s}'),this.createPickwareCategoryStoreListing("paymentProviders"),this.createPickwareCategoryStoreListingHeadline("processes",'{s name=listings/processes/title}{/s}'),this.createPickwareCategoryStoreListing("processes"),this.pickwareListingHeadlines[i],this.pickwareListings[i]]})},createHTMLContainer:function(i,e){ var t=Ext.create("Ext.container.Container",{ padding:30});Ext.Ajax.request({ url:i,success:function(i){ t.add(Ext.create("Ext.Component",{ height:e,autoEl:{ tag:"iframe",src:"data:text/html;charset=utf-8,"+encodeURIComponent(i.responseText)}}))}});return t},createPickwareCategoryStoreListingHeadline:function(i,e){ this.pickwareListingHeadlines[i]=Ext.create("Ext.container.Container",{ html:e,cls:"headline",padding:"30 30 0 30"});return this.pickwareListingHeadlines[i]},createPickwareCategoryStoreListing:function(i){ this.pickwareListingStores[i]=Ext.create("Shopware.apps.PluginManager.store.StorePlugin",{ pageSize:1e3,filters:[{ property:"categoryId",value:70},{ property:"pickwareCategory",value:i}]});var e=this.createListItem;this.pickwareListings[i]=Ext.create("PluginManager.components.Listing",{ store:this.pickwareListingStores[i],name:"pickware-listing-"+i,scrollContainer:this,padding:30,width:1007,addItems:function(i){ i.sort(function(i,e){ return i.get("label").localeCompare(e.get("label"))});var t=[];Ext.each(i,function(i){ t.push(e(i))});this.listingContainer.add(t)}});return this.pickwareListings[i]}});
