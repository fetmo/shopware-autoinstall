Ext.define("Shopware.apps.ViisonPickwareERPWarehouseManagement.view.main.List",{ extend:"Ext.grid.Panel",alias:"widget.viison_pickware_erp_warehouse_management-main-list",mixins:["Shopware.apps.ViisonCommonApp.Mixin"],viisonSnippetNamespace:"backend/viison_pickware_erp_warehouse_management/main",split:true,border:true,autoScroll:true,viewConfig:{ enableTextSelection:true,markDirty:false},initComponent:function(){ this.columns=this.createColumns();this.dockedItems=this.createDockedItems();this.callParent(arguments)},createColumns:function(){ return[{ dataIndex:"code",header:this.getViisonSnippet("warehouse/field/code"),width:100},{ dataIndex:"name",header:this.getViisonSnippet("warehouse/field/name"),flex:1},{ dataIndex:"stockAvailable",header:this.getViisonSnippet("warehouse/field/stock_available"),width:175,renderer:this.createBooleanColumnRenderer(this.getViisonSnippet("warehouse/field/stock_available"))},{ xtype:"gridcolumn",header:this.getViisonSnippet("warehouse/field/default_warehouse"),dataIndex:"defaultWarehouse",width:100,renderer:this.createBooleanColumnRenderer(this.getViisonSnippet("warehouse/field/default_warehouse"))},{ xtype:"actioncolumn",width:50,items:[{ iconCls:"sprite-pencil",action:"editWarehouse",tooltip:this.getViisonSnippet("list/tooltip/edit"),scope:this,handler:function(e,t){ this.fireEvent("editWarehouse",e.getStore().getAt(t))}},{ iconCls:"sprite-minus-circle",action:"deleteWarehouse",tooltip:this.getViisonSnippet("list/tooltip/delete"),scope:this,getClass:function(e,t,i){ return i.get("defaultWarehouse")?"x-hide-display":""},handler:function(e,t){ this.fireEvent("deleteWarehouse",e.getStore().getAt(t))}}]}]},createDockedItems:function(){ var e=Ext.create("Ext.toolbar.Toolbar",{ dock:"top",ui:"shopware-ui",items:[{ xtype:"button",text:this.getViisonSnippet("list/toolbar/button/add"),iconCls:"sprite-plus-circle-frame",action:"addWarehouse"},"->",{ xtype:"textfield",name:"searchfield",cls:"searchfield",width:170,enableKeyEvents:true,emptyText:this.getViisonSnippet("list/toolbar/search_field/placeholder"),listeners:{ buffer:500,scope:this,change:function(e){ this.fireEvent("searchFieldChanged",e.value)}}}]});var t={ xtype:"viison_common_pagination_toolbar-toolbar",store:this.store};return[e,t]},createBooleanColumnRenderer:function(e){ return function(t,i){ if(t){ i.tdAttr='data-qtip="<b>'+e+'</b>"'}var n=t?"sprite-tick":"sprite-cross";var o=new Ext.XTemplate('<div class="customer-column-icon '+n+'"></div>');return o.html}}});
