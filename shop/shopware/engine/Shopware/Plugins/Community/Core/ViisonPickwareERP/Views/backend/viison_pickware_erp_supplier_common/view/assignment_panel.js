// {namespace name=backend/viison_pickware_erp_supplier_common/main}
Ext.define("Shopware.apps.ViisonPickwareERPSupplierCommon.view.AssignmentPanel",{ extend:"Ext.panel.Panel",alias:"widget.viison_pickware_erp_supplier_common-assignment_panel",leftTitle:'{s name=view/assignment_panel/title/left}{/s}',rightTitle:'{s name=view/assignment_panel/title/right}{/s}',leftStore:null,rightStore:null,layout:{ type:"hbox",align:"stretch"},style:{ borderWidth:"0px"},defaults:{ border:0},initComponent:function(){ if(!this.leftStore){ this.leftStore=this.createLeftStore()}if(!this.rightStore){ this.rightStore=this.createRightStore()}this.leftPanel=this.createLeftPanel();this.rightPanel=this.createRightPanel();this.items=[this.createLeftContainer(),this.createMiddleContainer(),this.createRightContainer()];this.callParent(arguments)},createLeftStore:function(){ },createRightStore:function(){ },createLeftContainer:function(){ return{ xtype:"panel",flex:1,layout:"fit",border:false,items:[this.leftPanel]}},createLeftPanel:function(){ return Ext.create("Ext.grid.Panel",this.getLeftPanelConfig())},getLeftPanelConfig:function(){ return{ border:false,stripeRows:true,multiSelect:true,hideHeaders:false,header:false,viewConfig:{ plugins:{ ptype:"gridviewdragdrop",dragGroup:"leftGridDDGroup-"+this.id,dropGroup:"rightGridDDGroup-"+this.id},listeners:{ drop:function(e,t){ this.clearSelections();this.fireEvent("moveItemsFromRightToLeftViaDragDrop",this,t.records)},scope:this}},columns:this.createLeftColumns(),store:this.leftStore,dockedItems:[this.createSearchToolbar(this.leftStore,"leftPanelSearchFieldChanged",this.leftTitle),this.createPagingToolbar(this.leftStore)]}},createLeftColumns:function(){ return[]},createRightContainer:function(){ return{ xtype:"panel",flex:1,layout:"fit",border:false,items:[this.rightPanel]}},createRightPanel:function(){ return Ext.create("Ext.grid.Panel",this.getRightPanelConfig())},getRightPanelConfig:function(){ return{ border:false,stripeRows:true,multiSelect:true,hideHeaders:false,header:false,viewConfig:{ plugins:{ ptype:"gridviewdragdrop",dragGroup:"rightGridDDGroup-"+this.id,dropGroup:"leftGridDDGroup-"+this.id},listeners:{ drop:function(e,t){ this.clearSelections();this.fireEvent("moveItemsFromLeftToRightViaDragDrop",this,t.records)},scope:this}},columns:this.createRightColumns(),store:this.rightStore,dockedItems:[this.createSearchToolbar(this.rightStore,"rightPanelSearchFieldChanged",this.rightTitle)]}},createRightColumns:function(){ return[]},createMiddleContainer:function(){ return{ xtype:"panel",width:32,border:1,layout:{ type:"vbox",pack:"center"},bodyStyle:{ backgroundColor:"#ebedef"},items:this.createMiddleButtons()}},createMiddleButtons:function(){ return[{ xtype:"button",cls:Ext.baseCSSPrefix+"form-itemselector-btn",iconCls:Ext.baseCSSPrefix+"form-itemselector-add",tooltip:"",navBtn:true,margin:"4 4 2 4",handler:function(){ var e=this.swapSelectedItems(this.leftPanel,this.rightPanel);this.fireEvent("moveItemsFromLeftToRight",this,e)},scope:this},{ xtype:"button",cls:Ext.baseCSSPrefix+"form-itemselector-btn",iconCls:Ext.baseCSSPrefix+"form-itemselector-remove",tooltip:"",navBtn:true,margin:"2 4 4 4",handler:function(){ var e=this.swapSelectedItems(this.rightPanel,this.leftPanel);this.fireEvent("moveItemsFromRightToLeft",this,e)},scope:this}]},createPagingToolbar:function(e){ return{ xtype:"viison_common_pagination_toolbar-toolbar",displayInfo:false,store:e}},createSearchToolbar:function(e,t,i){ return{ xtype:"toolbar",dock:"top",ui:"shopware-ui",padding:"3 0",items:[{ xtype:"container",html:i||"",padding:"0 0 0 7",style:{ color:"#475c6a"}},"->",{ xtype:"textfield",name:"searchfield",cls:"searchfield",width:200,enableKeyEvents:true,emptyText:'{s name=view/assignment_panel/search_field/placeholder}{/s}',listeners:{ buffer:500,change:function(i){ this.fireEvent(t,i.value,e)},scope:this}}]}},swapSelectedItems:function(e,t){ var i=e.getSelectionModel().getSelection();this.clearSelections();e.getStore().remove(i);t.getStore().add(i);return i},clearSelections:function(){ this.leftPanel.getSelectionModel().deselectAll();this.rightPanel.getSelectionModel().deselectAll()}});
