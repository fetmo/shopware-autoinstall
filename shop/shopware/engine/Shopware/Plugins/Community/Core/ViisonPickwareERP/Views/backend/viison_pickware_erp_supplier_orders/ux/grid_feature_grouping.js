Ext.define("Shopware.apps.ViisonPickwareERPSupplierOrders.ux.GridFeatureGrouping",{ extend:"Ext.grid.feature.Grouping",alias:"feature.pickware-erp-grouping",storeIsLoading:false,init:function(){ if(this.view.store.isLoading()){ this.storeIsLoading=true}this.view.store.on("beforeload",function(){ this.storeIsLoading=true},this);this.view.store.on("load",function(){ this.storeIsLoading=false},this);this.view.on("refresh",function(){ this.viisonPickwareErpFixIndexes()},this);this.callParent(arguments)},onUpdate:function(){ if(this.storeIsLoading){ return}this.callParent(arguments)},viisonPickwareErpFixIndexes:function(){ var i=this.view.all.elements;var e=this.view.store.getGroups();var t=[];Ext.Array.forEach(e,function(i){ t=t.concat(i.children)},this);for(var r=0;r<i.length;r+=1){ i[r].viewIndex=r;if(t.length>r){ i[r].viewRecordId=t[r].internalId}}}});
