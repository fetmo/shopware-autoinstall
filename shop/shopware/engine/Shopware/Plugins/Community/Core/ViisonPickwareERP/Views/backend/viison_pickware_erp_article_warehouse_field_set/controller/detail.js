Ext.define("Shopware.apps.ViisonPickwareERPArticleWarehouseFieldSet.controller.Detail",{ override:"Shopware.apps.Article.controller.Detail",init:function(){ this.callParent(arguments);this.control({ "article-detail-window viison_pickware_erp_article_warehouse_field_set-warehouse_field_set-list":{ editRow:this.onEditRow}})},onSaveArticle:function(e,i,t){ var a=Ext.isObject(t)&&Ext.isFunction(t.callback)?t.callback:Ext.emptyFn;t.callback=function(i,t){ if(i&&t){ var r=e||this.getMainWindow();var n=i.getMainDetail().first();var o=r.down("viison_pickware_erp_article_warehouse_field_set-warehouse_field_set");o.reloadData(n)}a(i,t)}.bind(this);this.callParent([e,i,t])},reconfigureAssociationComponents:function(){ this.callParent(arguments);var e=this.getMainWindow().down("viison_pickware_erp_article_warehouse_field_set-warehouse_field_set");e.reloadData(this.getMainWindow().article.getMainDetail().first())},onEditRow:function(e,i){ var t=e.up("article-detail-window");var a=t.article;var r=a.getMainDetail().first();var n=function(){ e.getView().refreshNode(i.store.indexOf(i));t.down("viison_pickware_erp_article_stock_field_set-stock_field_set").reloadData(r);Ext.each(t.down("article-base-field-set").items.items[1].items.items,function(e){ if(e.name==="mainDetail[purchasePrice]"){ e.setValue(r.get("purchasePrice"));return false}return undefined})};this.getController("Shopware.apps.ViisonPickwareERPBinLocationEditor.controller.Main").createEditor(a,r,i,n)}});
