// {namespace name=backend/viison_pickware_erp_article_supplier_order_list/main}
Ext.define("Shopware.apps.ViisonPickwareERPArticleSupplierOrderList.view.detail.SupplierOrderList",{ extend:"Ext.grid.Panel",alias:"widget.viison_pickware_erp_article_supplier_order_list-detail-supplier_order_list",border:false,viewConfig:{ enableTextSelection:true},initComponent:function(){ this.columns=this.createColumns();this.dockedItems=this.createDockedItems();this.callParent(arguments)},createColumns:function(){ return[{ xtype:"gridcolumn",header:'{s name=order/field/supplier_name}{/s}',dataIndex:"supplierId",flex:1,renderer:function(i,e,t){ return t.raw.supplier?t.getSupplier().get("name"):'{s name=order_list/column/supplier_name/unknown}{/s}'}},{ xtype:"gridcolumn",header:'{s name=order/field/order_number}{/s}',dataIndex:"orderNumber",width:90},{ xtype:"gridcolumn",header:'{s name=order/field/status}{/s}',dataIndex:"status",width:150,renderer:function(i){ var e=this.orderStatusStore.getById(i);return e===null?"":e.get("description")}},{ xtype:"datecolumn",header:'{s name=order/field/created}{/s}',dataIndex:"created",width:130,format:"d.m.Y H:i"},{ xtype:"datecolumn",header:'{s name=order/field/delivery_date}{/s}',dataIndex:"deliveryDate",width:80,format:"d.m.Y"},{ sortable:false,xtype:"gridcolumn",header:'{s name=order_list/column/pending_quantity}{/s}',width:90,renderer:function(i,e,t){ if(t.articles()&&t.articles().first()){ var r=t.articles().first();var d=r.get("orderedQuantity")-r.get("deliveredQuantity");return Math.max(d,0)}return 0}},{ sortable:false,xtype:"gridcolumn",header:'{s name=order_list/column/delivered_quantity}{/s}',width:90,renderer:function(i,e,t){ if(t.articles()&&t.articles().first()){ var r=t.articles().first();return r.get("deliveredQuantity")}return 0}},{ xtype:"actioncolumn",width:40,items:[{ iconCls:"sprite-sticky-notes-pin",tooltip:'{s name=order/tooltip/open_supplier_order}{/s}',handler:function(i,e){ var t=i.getStore().getAt(e);Shopware.app.Application.addSubApplication({ name:"Shopware.apps.ViisonPickwareERPSupplierOrders",params:{ orderId:t.get("id")}})}}]}]},createDockedItems:function(){ this.totalIncomingStockLabel=Ext.create("Ext.Component",{ padding:"0 20 0 10",data:{ totalIncomingStock:this.totalIncomingStock},tpl:"{literal}{ totalIncomingStock}{/literal}"});var i={ xtype:"toolbar",dock:"top",ui:"shopware-ui",padding:7,border:false,items:[Ext.create("Shopware.apps.ViisonCommonVariantComboBox.view.ComboBox",{ name:"variantSelection"}),"->",{ xtype:"container",html:'{s name=order_list/toolbar/total_incoming_stock}{/s}:',style:{ fontWeight:"bold"}},this.totalIncomingStockLabel]};var e={ xtype:"viison_common_pagination_toolbar-toolbar",store:this.store};return[i,e]}});
