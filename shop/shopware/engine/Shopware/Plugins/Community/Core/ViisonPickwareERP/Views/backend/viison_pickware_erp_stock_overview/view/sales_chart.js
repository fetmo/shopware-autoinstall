// {namespace name=backend/viison_pickware_erp_stock_overview/main}
Ext.define("Shopware.apps.ViisonPickwareERPStockOverview.view.SalesChart",{ extend:"Ext.chart.Chart",alias:"widget.viison_pickware_erp_stock_overview-sales_chart",theme:"ViisonPickwareERP",cls:"viison-common--chart",style:"background-color:white;",shadow:false,legend:{ isViisonPositionTopRight:true,labelFont:"9px Arial, Helvetica, sans-serif",labelColor:"#475c6a",position:"right",boxStrokeWidth:0,padding:10,itemSpacing:15},beginOfChartPeriod:new Date-365*24*60*60,updateInterval:function(e,i){ var t=Math.round((i-e)/1e3/60/60/24);var l=Ext.Array.filter(this.series.items,function(e){ return e.yField==="salesAverage"},this)[0];l.title='{s name=chart/series/sales_sum}{/s} ('+t+' {s name=chart/series/sales_sum_days}{/s})'},axes:[{ type:"Numeric",position:"left",fields:["sales","stock","highlightFilterRangeHack","salesAverage"]},{ type:"Time",dateFormat:"d/M",position:"bottom",fields:["date"],step:[Ext.Date.MONTH,1]}],series:[{ title:'{s name=chart/series/sales_sum}{/s}',type:"line",xField:"date",yField:"salesAverage",viisonLegendMarkerType:"rect",smooth:true,showMarkers:false,tips:{ trackMouse:true,width:200,baseCls:"viison-common--chart--tooltip",renderer:function(e){ var i=new Ext.XTemplate('{literal}<tpl for=".">','<div class="is--header">{ date}</div>',"<div>",'<span class="is--label">{/literal}{s name=chart/tooltip/physical_stock}{/s}{literal}:</span>','<span class="is--value">{ stock}</span>',"</div>","<div>",'<span class="is--label">{/literal}{s name=chart/tooltip/sales}{/s}{literal}:</span>','<span class="is--value">{ sales}</span>',"</div>","</tpl>{/literal}");this.setTitle(i.apply({ date:Ext.Date.format(e.get("date"),"l d.m.Y"),stock:e.get("stock"),sales:e.get("sales")}))}}},{ title:'{s name=chart/series/sales_by_day}{/s}',type:"line",xField:"date",yField:"sales",viisonLegendMarkerType:"rect",smooth:true,showMarkers:false},{ title:'{s name=chart/series/physical_stock}{/s}',type:"area",xField:"date",yField:["stock"],viisonLegendMarkerType:"rect",renderer:function(e,i,t){ return Ext.apply(t,{ opacity:.7,fill:"#90D5F2","stroke-width":0,lineWidth:0})},getLegendColor:function(){ return"#90D5F2"}},{ type:"area",xField:"date",yField:"highlightFilterRangeHack",viisonLegendMarkerType:"rect",title:'{s name=chart/series/planning_interval}{/s}',renderer:function(e,i,t){ return Ext.apply(t,{ opacity:.2,fill:"#798D8D","stroke-width":0})},getLegendColor:function(){ return"#EBEFED"}}]});
